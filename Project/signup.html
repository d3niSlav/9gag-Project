<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Sign Up</title>
    <link rel="stylesheet" href="assets/css/signup_style.css" />
</head>

<body>
    <header>
        <div id="main-logo">
            <img id="img-seen" src="assets/images/logo-icon.png" alt="Logo" />

        </div>
    </header>
    <div id="log">

        <form name="input" action="index.html" method="post" onsubmit="return myFunction();">
            <h2> Sign In</h2>
            <input type="text" id="username" placeholder="Enter Username" />
            <input type="text" id="email" placeholder="Enter Email Address" />
            <input type="password" id="password1" placeholder="Enter Password" />
            <input type="password" id="password2" placeholder="Confirm Password" />
            <div id="gender">
                <input type="radio" name="Male" value="male">
                <p>Male</p>
                <input type="radio" name="Female" value="female">
                <p>Female
                    <p>
            </div>
            <input type="submit" id="log-button" value="Sign up" />

        </form>
        <script>

            function myFunction() {
                var pass = document.getElementById("password1");
                var confirmPass = document.getElementById("password2");
                var username = document.getElementById("username");
                var email = document.getElementById("email");



                var ok = true;
                if(!validateString(pass) && !validateString(confirmPass) && !validateString(username) && !validateString(email)){
                    showErrorBorder(pass);
                    showErrorBorder(confirmPass);
                    showErrorBorder(username);
                    showErrorBorder(email);

                    ok = false;
                    alert("Fill all fields")
                } else if (!validateEmail(email.value)){
                    hideErrorBorder(pass);
                    hideErrorBorder(confirmPass);
                    hideErrorBorder(username);
                    showErrorBorder(email);

                    ok = false;
                    alert("Enter valid email")
                } else if (pass.value != confirmPass.value) {
                    hideErrorBorder(username);
                    hideErrorBorder(email);
                    showErrorBorder(pass)
                    showErrorBorder(confirmPass)

                    ok = false;
                    alert("Passwords not match")
                } else if (pass.value.length < 6 || confirmPass.value.length < 6) {
                    hideErrorBorder(username)
                    hideErrorBorder(email)
                    showErrorBorder(pass)
                    showErrorBorder(confirmPass)

                    alert("Passwords must be grather than 6 symbols")

                    ok = false;
                }

                if(ok){
                    registerUser(username.value, email.value, pass.value)

                    alert("Success sign up")
                }
                
                return ok;
            }

            function validateEmail(email) {
                //regular expression ( Nz kakvo stava tuk )
                var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                return re.test(email);
            }

            function showErrorBorder(element) {
                element.style.borderColor = "#E34234";
            }

            function hideErrorBorder(element) {
                element.style.borderColor = "#000000";
            }

            function validateString(text){
                if(text.value.length > 0)
                    return true;
                else
                    return false;
            }
        </script>

        <script type="text/javascript" src="assets\js\userManager.js"></script>

</body>

</html>