<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>SinS - For A Funny Day</title>
    <link rel="icon" href="assets/images/logo-icon.png">
    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/top-menu.css">
    <link rel="stylesheet" href="assets/css/dialog_upload_style.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <script src="assets/js/switchViews.js"></script>
    <script src="assets/js/model.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <header id="fixed-menu" class="top-menu-nav">
        <div class="nav-wrapper">
            <nav class="nav-menu">
                <ul class="primary">
                    <li>
                        <a class="logo" href="index.html"><img src="assets/images/logo-white.png" alt="SinS"></a>
                    </li>
                    <li class="active">
                         <!--in postController-->
                      <a  onclick="loadPopular()"id="button-popular">Popular</a> 
                    </li>
                    <li>
                         <!--in postController-->
                        <a  onclick="loadRecent()"id="button-recent">Recent</a>
                    </li>
                    <li>
                        <a href="">Today's</a>
                    </li>
                    <li>
                        <!--showDropdownMenu se namira v  switchViews-->
                        <a onclick="showDropdownMenu()" class="drop-btn">More<i class="fa fa-chevron-down drop-btn" aria-hidden="true"></i></a>
                        <div id="dropdownMenu" class="dropdown-content">
                            <a id="ddrop-menu-color" href="#">SinS GIF</a>
                            <a id="ddrop-menu-color" href="#">WTF</a>
                            <a id="ddrop-menu-color" href="#">Funny</a>
                        </div>
                    </li>
                    <li>
                    <button id="myBtn">UpLoad</button>
                    </li>
                        <!-- The Modal -->
                        <div id="myModal" class="modal">

                        <!-- Modal content -->
                            <div id="modal-content">
                                <span class="close">&times;</span>
                                <!--<form name="input" onsubmit="safeFile()" >-->
                                    <input type="text" id="pictureName" placeholder="Enter Picture Name" />
                                    <input type="text" id="urlPicture" placeholder="Enter URL" />
                                    <button onclick="safeFile()" id="submit-picture" value="Done">Done</button>
                                <!--</form>-->
                            </div>
                        </div>
                </ul>
                <ul class="secondary">
                    <li>
                        <a href="">Videos</a>
                    </li>
                    <li>
                        <a href="">Quotes</a>
                    </li>
                    <li>
                        <a href="">Gifs</a>
                    </li>
                    <li>
                        <a href="">NSFW</a>
                    </li>
                    <li>
                        <a href="">Art</a>
                    </li>
                </ul>
            </nav>
            <div class="side-menu">
                <input id="input-search"></input>
                <div class="search">
                    <a onclick="searchPost()"><i class="fa fa-search" aria-hidden="true"></i></a>
                </div>
                <div class="visitor-menu" id="auth_block">
                    <a class="btn-rare" href="./login.html"><i class="fa fa-sign-in" aria-hidden="true"></i>Log in</a>
                    <a class="btn-focus" href="./signup.html"><i class="fa fa-user-plus" aria-hidden="true"></i>Sign up</a>
                </div>
                <div class="visitor-menu" id="signed_block">
                    <label id="userName" style="color: #ffffff"> </label>
                    <button class="btn-focus" id="logoutBtn"><i class="fa fa-user-plus" aria-hidden="true" ></i>Log out</button>
                </div>
            </div>
            <div class="menu-box">
                <a id="open-menu" onclick="showMobileMenu()"><i id="menu-icon" class="fa fa-bars fa-2x"></i></a>
            </div>
        </div>
    </header>
    <section id="mobile-menu">
        <div class="menu">
            <header class="top-menu-nav">
                <div class="nav-wrapper">
                    <nav class="nav-menu">
                        <ul class="primary">
                            <li>
                                <a class="logo" href="index.html"><img src="assets/images/logo-white.png" alt="SinS"></a>
                            </li>
                        </ul>
                    </nav>
                    <div class="menu-box">
                        <a id="btn-close"><i id="close-icon" class="fa fa-times" aria-hidden="true"></i></a>
                    </div>
                </div>
            </header>
            <section id="mobile-links">
                <div class="sign-up primary">
                    <a id="btn-signup-mobile" onclick="showSignUpMenu()"><i class="fa fa-user-circle" aria-hidden="true"></i>Sign in</a>
                </div>
                <nav class="nav-menu-mobile">
                    <div class="line-divider"></div>
                    <ul class="primary">
                        <li class="active">
                            <a href="">Popular</a>
                        </li>
                        <li>
                            <a href="">Recent</a>
                        </li>
                        <li>
                            <a href="">Today's</a>
                        </li>
                    </ul>
                    <div class="line-divider"></div>
                    <ul class="secondary">
                        <li>
                            <a href="">Videos</a>
                        </li>
                        <li>
                            <a href="">Quotes</a>
                        </li>
                        <li>
                            <a href="">Gifs</a>
                        </li>
                        <li>
                            <a href="">NSFW</a>
                        </li>
                        <li>
                            <a href="">Art</a>
                        </li>
                    </ul>
                </nav>
            </section>
            <section id="registration">
                <div class="registration-wrapper">
                    <div class="signup-info">
                        <h2>Howdy partner!</h2>
                        <p>SinS is the best source of daily scenes captured by you from your hometown, country or all over the world. Share anything you find interesting or strange, and see what other people think about it. Fulfill your day with laughter
                            and discover what brings a smile on your face.</p>
                    </div>
                    <div class="hero">
                        <div class="logo">
                            <img src="assets/images/logo-white.png" alt="SinS - logo">
                        </div>
                        <h4>Sign in to SinS to share &amp; discuss funny thing you saw around Bulgaria and the world.</h4>
                    </div>
                    <div class="btn-container">
                        <a id="btn-email" class="btn white fill" href="./signup.html"><i class="fa fa-envelope-o" aria-hidden="true"></i>Sign up with an E-mail</a>
                        <div class="social-signup">
                            <a id="btn-facebook" class="btn white" href="#" onClick="return false;"><i class="fa fa-facebook" aria-hidden="true"></i><span>Continue with </span>Facebook</a>
                            <a id="btn-google-plus" class="btn white fill" href="#" onClick="return false;"><i class="fa fa-google-plus" aria-hidden="true"></i><span>Continue with </span>Google</a>
                        </div>
                        <a class="btn" href="./login.html">Login with Username or E-mail</a>
                    </div>
                    <div></div>
                </div>
            </section>
        </div>
    </section>
    <section id="posts-container">
        <div class="page">
            <div class="main-posts">
                <section id="posts-list">
                    <div class="posts" id="div-posts"></div>
                </section>
            </div>
            <section id="sidebar">
                <div class="sidebar-content">
                    <ul id="featured-item-container">
                    </ul>
                </div>
            </section>
        </div>
    </section>
    <script src="assets/js/controller.js"></script>
    <script src="assets/js/postsController.js"></script>
    <script src="assets/js/userManager.js"></script>
    <script src="assets/js/uploadDialog.js"></script>
    <!--<script src="assets/js/postsManager.js"></script>-->

    <script>
        window.onload = function() {
            var authBlock = document.getElementById("auth_block");
            var signedBlock = document.getElementById("signed_block");
            var uploadDialogContainer = document.getElementById("myBtn");
            var labelLogedUser = document.getElementById("userName");
            //if click logout button do function do Logout
            document.getElementById("logoutBtn").addEventListener("click", function logout(){
                //function do logout  localStorage.setItem(loggedUserKey, null);
                //in userManger doLogout
                doLogout();
                authBlock.style.display = "block";
                signedBlock.style.display = "none";
            }, false);

            var logedUser = getLogedUser();
            // getlocalUser return JSON.parse(localStorage.getItem(loggedUserKey)); in userManger
            //if have logged user return true 
            if(logedUser){
                //show them
                authBlock.style.display = "none";
                signedBlock.style.display = "block";
                uploadDialogContainer.style.display = "block";
                

                labelLogedUser.innerText = logedUser.username;
            } else {
                //hide them
                authBlock.style.display = "block";
                signedBlock.style.display = "none";
                uploadDialogContainer.style.display = "none";
            }            
        };
        //by default load Populat fucntion
        loadPopular();
    </script>

</body>

</html>